<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>TapDay</title>

<style>
body {
  margin: 0;
  background: linear-gradient(180deg,#0b1020,#0f1530);
  color: #fff;
  font-family: Arial, sans-serif;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  height:100vh;
}

h1 { margin-bottom:20px; }

#tap {
  width:220px;
  height:220px;
  border-radius:50%;
  background: linear-gradient(135deg,#ff9800,#ff5722);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:36px;
  font-weight:bold;
  cursor:pointer;
  user-select:none;
  transition:transform .1s, box-shadow .1s;
}

#tap:active {
  transform: scale(0.95);
  box-shadow:0 0 40px rgba(255,150,0,.8);
}

.stat {
  margin-top:10px;
  font-size:18px;
}

.btn {
  margin-top:15px;
  padding:14px 24px;
  border-radius:14px;
  font-size:18px;
  cursor:pointer;
  user-select:none;
  text-align:center;
}

.blue { background:#2196f3; }
.green { background:#4caf50; }
.donate { background:linear-gradient(135deg,#00c853,#64dd17); }

</style>
</head>
<body>

<h1>TapDay</h1>

<div id="tap">TAP</div>

<div class="stat" id="score">0 üí∞</div>
<div class="stat" id="energy">–ï–Ω–µ—Ä–≥—ñ—è: 100 / 100 ‚ö°</div>
<div class="stat" id="power">–°–∏–ª–∞ —Ç–∞–ø—É: 1</div>
<div class="stat" id="income">–î–æ—Ö—ñ–¥: 0 / —Å–µ–∫ üí∞</div>

<div class="btn blue" id="upgradeBtn"></div>
<div class="btn green" id="incomeBtn"></div>
<div class="btn donate" id="donateBtn">üíé –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –≥—Ä—É (Donate)</div>

<script>
/* === TELEGRAM INIT === */
if (window.Telegram?.WebApp) {
  Telegram.WebApp.ready();
  Telegram.WebApp.expand();
}

/* === LOAD === */
let score = +localStorage.getItem("score") || 0;
let power = +localStorage.getItem("power") || 1;
let income = +localStorage.getItem("income") || 0;
let energy = +localStorage.getItem("energy") || 100;

let upgradeCost = +localStorage.getItem("upgradeCost") || 20;
let incomeCost = +localStorage.getItem("incomeCost") || 50;

const maxEnergy = 100;

/* === ELEMENTS === */
const tap = document.getElementById("tap");
const scoreEl = document.getElementById("score");
const energyEl = document.getElementById("energy");
const powerEl = document.getElementById("power");
const incomeEl = document.getElementById("income");
const upgradeBtn = document.getElementById("upgradeBtn");
const incomeBtn = document.getElementById("incomeBtn");

/* === UI === */
function updateUI() {
  scoreEl.textContent = score + " üí∞";
  energyEl.textContent = `–ï–Ω–µ—Ä–≥—ñ—è: ${energy} / ${maxEnergy} ‚ö°`;
  powerEl.textContent = `–°–∏–ª–∞ —Ç–∞–ø—É: ${power}`;
  incomeEl.textContent = `–î–æ—Ö—ñ–¥: ${income} / —Å–µ–∫ üí∞`;

  upgradeBtn.textContent = `Upgrade (+1 —Å–∏–ª–∞) ‚Äî ${upgradeCost} üí∞`;
  incomeBtn.textContent = `–ö—É–ø–∏—Ç–∏ –¥–æ—Ö—ñ–¥ (+1 / —Å–µ–∫) ‚Äî ${incomeCost} üí∞`;

  localStorage.setItem("score", score);
  localStorage.setItem("power", power);
  localStorage.setItem("income", income);
  localStorage.setItem("energy", energy);
  localStorage.setItem("upgradeCost", upgradeCost);
  localStorage.setItem("incomeCost", incomeCost);
}

/* === TAP === */
tap.addEventListener("click", () => {
  if (energy <= 0) return;

  score += power;
  energy--;

  if (window.Telegram?.WebApp?.HapticFeedback) {
    Telegram.WebApp.HapticFeedback.impactOccurred("light");
  }

  updateUI();
});

/* === UPGRADE POWER === */
upgradeBtn.onclick = () => {
  if (score < upgradeCost) return;
  score -= upgradeCost;
  power++;
  upgradeCost = Math.floor(upgradeCost * 1.35);
  updateUI();
};

/* === BUY INCOME === */
incomeBtn.onclick = () => {
  if (score < incomeCost) return;
  score -= incomeCost;
  income++;
  incomeCost = Math.floor(incomeCost * 1.4);
  updateUI();
};

/* === AUTO INCOME === */
setInterval(() => {
  score += income;
  updateUI();
}, 1000);

/* === ENERGY REGEN === */
setInterval(() => {
  if (energy < maxEnergy) {
    energy++;
    updateUI();
  }
}, 3000);

/* === FAKE DONATE === */
document.getElementById("donateBtn").onclick = () => {
  alert("üíé Donate\n(–Ω–∞—Å—Ç—É–ø–Ω–∏–π –µ—Ç–∞–ø ‚Äî —Ä–µ–∞–ª—å–Ω—ñ –ø–ª–∞—Ç–µ–∂—ñ —á–µ—Ä–µ–∑ Telegram)");
};

updateUI();
</script>

</body>
</html>
